@using Entities.Website
@using GoNewWebsite.Helpers
@using Web;

@{
    var culture = System.Threading.Thread.CurrentThread.CurrentUICulture.Name.ToLowerInvariant();
    WebsitePage website = ViewBag.Website;
}

@helper selected(string c, string culture)
{
    if (c == culture)
    {
        @:checked="checked"
    }
}
<!DOCTYPE html>
<html>
<head>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#ff0000">
    <meta name="og:type" content="website">
    <meta name="og:url" content="http://go-moblin.azurewebsites.net">
    <meta name="og:image:secure_url" content="http://go-moblin.azurewebsites.net/Img/fabi.png">
    <meta property="og:title" content="GO Digital Marketing" />
    <meta property="og:description" name="description" content="Digital Marketing. Business Results." />
    <meta property="og:site_name" content="GO Digital Marketing" />
    <meta property='og:title' content='GO Digital Marketing' />
    <meta property='og:image' content='http://go-moblin.azurewebsites.net/images/1200x627.png' />
    <meta property='og:description' content='Digital Marketing. Business Results.' />
    <meta property='og:url' content='http://go-moblin.azurewebsites.net' />

    <meta name="twitter:title" content="GO Digital Marketing">
    <meta name="twitter:description" content="Digital Marketing. Business Results." />

    <title> GO Digital Marketing</title>
    <link rel="icon" type="image/png" href="/Images/fabi.png" />

    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
    <link href="~/Content/animate.min.css" rel="stylesheet" />
    <link href="~/Content/fonts/css/all.min.css" rel="stylesheet" />

    <!--[if IE]>
        <link rel="shortcut icon" href="~/Img/fabi.png" type="image/vnd.microsoft.icon" />
    <![endif]-->
    <!-- Plugin CSS -->
    @*    <link rel="stylesheet" href="https://cdn.rtlcss.com/bootstrap/v4.2.1/css/bootstrap.min.css" integrity="sha384-vus3nQHTD+5mpDiZ4rkEPlnkcyTP+49BhJ4wJeJunw06ZAp+wzzeBPUXr42fi8If" crossorigin="anonymous">*@


    @*<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />*@

    <script src="//code.createjs.com/createjs-2015.11.26.min.js"></script>
    <script src="~/Scripts/Logo/logo_HTML5Canvas.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/3.3.1/css/swiper.css" />
    <link href="~/plugin/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet" />
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome-animation/0.2.1/font-awesome-animation.css" rel="stylesheet" />


</head>
<body id="page-top" onload="init();" style="margin: 0px;">
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">

        <div class="container-fluid">
            
            <a href="@Url.Action("Index", "Home")">
                <div class="square">
                    <div id="animation_container">
                        <canvas id="canvas"></canvas>
                        <div id="dom_overlay_container">
                        </div>
                    </div>


                </div>
            </a>

            <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                <i class="fas fa-bars fa-custom"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item" nav-item="5">
                        <a class="nav-link js-scroll-trigger active" href="@Url.Action("Index", "Home")">Home</a>
                    </li>
                    <li class="nav-item" nav-item="4">
                        <a class="nav-link js-scroll-trigger About" href="@Url.Action("About", "Home")">About</a>
                    </li>
                    <li class="nav-item" nav-item="3">
                        <a class="nav-link js-scroll-trigger Services" href="@Url.Action("Services", "Home")">Services</a>
                    </li>
                    <li class="nav-item" nav-item="2">
                        <a class="nav-link js-scroll-trigger Careers" href="@Url.Action("Index", "Career")">Careers</a>
                    </li>

                    <li class="nav-item" nav-item="1">
                        <a class="nav-link js-scroll-trigger" href="#ContactUs">Contact</a>
                    </li>



                    @*<li class="nav-item" nav-item="6">
                            <form action="/Home/SetCulture" method="post" class=form-lang>
                                <div class="btn-group lan-btn-group" data-toggle="buttons">

                                    <label class="btn btn-lang">
                                        <input class="culture" name="culture" id="en-us" value="en-us" type="radio" @selected("en-us", culture) /> En
                                    </label>
                                    <label class="btn btn-lang">
                                        <input class="culture" name="culture" id="he" value="he" type="radio" @selected("he", culture) /> עב
                                    </label>
                                </div>
                            </form>

                        </li>*@

                </ul>
            </div>
        </div>
    </nav>

    <header>
        <div class="overlay"></div>
        <div id="video"></div>
        <div class="container-fluid">
            <div class="container h-100">
                <div class="d-flex h-100 text-center align-items-center">
                    <div class="w-100 text-white">

                        @if (website != null)
                        {
                            if (string.IsNullOrWhiteSpace(website.HeaderPage.Main))
                            {
                                if (!string.IsNullOrEmpty(website.HeaderPage.Content))
                                {
                                    if (website.HeaderPage.Content.Length>200)
                                    {
                                        <div class="d-none d-md-block">
                                            <p class="main_subHeader no-header  " style="white-space: pre-line">@Html.Raw(website.HeaderPage.Content)</p>
                                        </div>    
                                    }
                                    else
                                    {
                                        <p class="main_subHeader no-header " style="white-space: pre-line">@Html.Raw(website.HeaderPage.Content)</p>
                                    }

                                }
                            }
                            else
                            {
                                <h1 class="display-3 text-header">@website.HeaderPage.Main</h1>   
                                if (!string.IsNullOrEmpty(website.HeaderPage.Content))
                                {
                                    if (website.HeaderPage.Content.Length>200)
                                    {
                                        <div class="d-none d-md-block">
                                            <p class="main_subHeader  " style="white-space: pre-line">@Html.Raw(website.HeaderPage.Content)</p>
                                        </div>    
                                    }
                                    else
                                    {
                                        <p class="main_subHeader  " style="white-space: pre-line">@Html.Raw(website.HeaderPage.Content)</p>
                                    }

                                }
                            }
                            
                            

                        }

                    </div>
                </div>
            </div>
        </div>

    </header>


    <div class="container-fluid body-content">

        @*<video loop muted autoplay poster="" class="fullscreen-bg__video">
                <source src="~/Videos/3D_1920x1000.mp4" type="video/mp4" />

            </video>*@

        @RenderBody()



    </div>

    <section class=" container footer_section" id="ContactUs">
        <div class="section-header">
            <p class="ourCustomer">Contact us</p>
        </div>
      @Html.Partial("_ContactForm")


    </section>
    <footer class="footer-strip">
        <div class="container">

            <div class="row ">
<div class="footer-details">
                        <ul>
                            <li>
                                <a href="https://goo.gl/maps/P7mzRa2aPSvEmLQLA" target="_blank" class="location-geo">
                                    <p class="">
                                        <i class="fa fa-map-marker"></i>
                                        &nbsp; &nbsp;
                                        Giborey Israel 5, P.O.Box 8870, Netanya Israel.
                                    </p>
                                </a>
                            </li>
                            <li>
                                <a href="mailto:Office@gim.co.il" class="location">
                                    <p class="">
                                        <i class="fa fa-envelope"></i>
                                        &nbsp; &nbsp;
                                        Office@@Gim.co.il
                                    </p>
                                </a>
                            </li>
                            <li>

                                <a href="tel:09-8855824" class="location">
                                    <p class="">
                                        <i class="fa fa-phone"></i>
                                        &nbsp; &nbsp;
                                        09-8855824
                                    </p>
                                </a>
                            </li>
                            @*<ul class="sm">

                                <li><a href="https://www.linkedin.com/company/go-internet-marketing/about/" target="_blank"><i class="fab fa-linkedin fa-2x" style="color: white"></i></a></li>
                                <li><a href="https://www.facebook.com/GoInternetMarketing/" target="_blank"><i class="fab fa-facebook-square fa-2x" style="color: white"></i></a></li>
                            </ul>*@
                            <li>

                                <a href="tel:09-8855824" class="all-rights">
                                    <p class="">
                                        <i class="far fa-copyright"></i>
                                        All rights reserved to- GO 2019
                                    </p>
                                </a>
                            </li>
                        </ul>
                    </div>
            </div>

        </div>
    </footer>


    <!-- Modal -->
    <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header" style="background-color: #ff0000">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title text-left" dir="ltr">Thank you </h4>
                </div>
                <div class="modal-body">
                    <p>Thank you for contact us we will contact you soon </p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
                </div>
            </div>

        </div>
    </div>



    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    <script src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.validate.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.js")" type="text/javascript"></script>
    <!-- Bootstrap core JavaScript -->
    @*<script src="~/Scripts/bootstrap.bundle.min.js" defer=""></script>*@
    <script src="~/plugin/owlcarousel/owl.carousel.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.11/jquery.mousewheel.min.js"></script>
    <script src="~/Scripts/jquery.easing.min.js"></script>
    <script src="~/Scripts/swiper.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/vue/2.1.7/vue.js'></script>
    <script src="~/Scripts/vue-carousel-3d.js"></script>
    @*<script src='https://rawgit.com/Wlada/vue-carousel-3d/master/dist/vue-carousel-3d.min.js'></script>*@
    <script src="~/Scripts/Custom.js"></script>
    <script src="~/Scripts/bootstrap-tabcollapse.js"></script>
    <script src="~/Scripts/wow.min.js"></script>
    <script>

        new WOW().init();

        function OnSuccess(data) {

            $('#thankyou').text('Thank you')
            //$('#myModal').modal('toggle');
            $('form').hide();
            $('form')[0].reset()();
        }
        function OnFailure(data) {
        }
        var onBeginSubmit = function () {

        };


        function sortMeBy(arg, sel, elem, order) {
            var $selector = $(sel),
                $element = $selector.children(elem);
            $element.sort(function (a, b) {
                var an = parseInt(a.getAttribute(arg)),
                    bn = parseInt(b.getAttribute(arg));
                if (order == "asc") {
                    if (an > bn)
                        return 1;
                    if (an < bn)
                        return -1;
                } else if (order == "desc") {
                    if (an < bn)
                        return 1;
                    if (an > bn)
                        return -1;
                }
                return 0;
            });
            $element.detach().appendTo($selector);
        }


        var canvas, stage, exportRoot, anim_container, dom_overlay_container, fnStartAnimation;

        function init() {
            canvas = document.getElementById("canvas");
            anim_container = document.getElementById("animation_container");
            dom_overlay_container = document.getElementById("dom_overlay_container");
            var comp = AdobeAn.getComposition("B2D64D364C6BDA4EB837BE0397C8C465");
            var lib = comp.getLibrary();
            handleComplete({}, comp);
        }

        function handleComplete(evt, comp) {
            //This function is always called, irrespective of the content. You can use the variable "stage" after it is created in token create_stage.
            var lib = comp.getLibrary();
            var ss = comp.getSpriteSheet();
            exportRoot = new lib.logo3_HTML5Canvas();
            stage = new lib.Stage(canvas);
            //Registers the "tick" event listener.
            fnStartAnimation = function () {
                stage.addChild(exportRoot);
                createjs.Ticker.setFPS(lib.properties.fps);
                createjs.Ticker.addEventListener("tick", stage)
                stage.addEventListener("tick", handleTick)

                function getProjectionMatrix(container, totalDepth) {
                    
                    var focalLength = 528.25;
                    var projectionCenter = { x: lib.properties.width / 2, y: lib.properties.height / 2 };
                    var scale = (totalDepth + focalLength) / focalLength;
                    var scaleMat = new createjs.Matrix2D;
                    scaleMat.a = 1 / scale;
                    scaleMat.d = 1 / scale;
                    var projMat = new createjs.Matrix2D;
                    projMat.tx = -projectionCenter.x;
                    projMat.ty = -projectionCenter.y;
                    projMat = projMat.prependMatrix(scaleMat);
                    projMat.tx += projectionCenter.x;
                    projMat.ty += projectionCenter.y;
                    return projMat;
                }

                function handleTick(event) {
                    var cameraInstance = exportRoot.___camera___instance;
                    if (cameraInstance !== undefined && cameraInstance.pinToObject !== undefined) {
                        cameraInstance.x = cameraInstance.pinToObject.x + cameraInstance.pinToObject.pinOffsetX;
                        cameraInstance.y = cameraInstance.pinToObject.y + cameraInstance.pinToObject.pinOffsetY;
                        if (cameraInstance.pinToObject.parent !== undefined &&
                            cameraInstance.pinToObject.parent.depth !== undefined)
                            cameraInstance.depth = cameraInstance.pinToObject.parent.depth +
                                cameraInstance.pinToObject.pinOffsetZ;
                    }
                    applyLayerZDepth(exportRoot);
                }

                function applyLayerZDepth(parent) {
                    var cameraInstance = parent.___camera___instance;
                    var focalLength = 528.25;
                    var projectionCenter = { 'x': 0, 'y': 0 };
                    if (parent === exportRoot) {
                        var stageCenter = { 'x': lib.properties.width / 2, 'y': lib.properties.height / 2 };
                        projectionCenter.x = stageCenter.x;
                        projectionCenter.y = stageCenter.y;
                    }
                    for (child in parent.children) {
                        var layerObj = parent.children[child];
                        
                        if (layerObj == cameraInstance)
                            continue;
                        applyLayerZDepth(layerObj, cameraInstance);
                        if (layerObj.layerDepth === undefined)
                            continue;
                        if (layerObj.currentFrame != layerObj.parent.currentFrame) {
                            layerObj.gotoAndPlay(layerObj.parent.currentFrame);
                        }
                        var matToApply = new createjs.Matrix2D;
                        var cameraMat = new createjs.Matrix2D;
                        var totalDepth = layerObj.layerDepth ? layerObj.layerDepth : 0;
                        var cameraDepth = 0;
                        if (cameraInstance && !layerObj.isAttachedToCamera) {
                            var mat = cameraInstance.getMatrix();
                            mat.tx -= projectionCenter.x;
                            mat.ty -= projectionCenter.y;
                            cameraMat = mat.invert();
                            cameraMat.prependTransform(projectionCenter.x, projectionCenter.y, 1, 1, 0, 0, 0, 0, 0);
                            cameraMat.appendTransform(-projectionCenter.x, -projectionCenter.y, 1, 1, 0, 0, 0, 0, 0);
                            if (cameraInstance.depth)
                                cameraDepth = cameraInstance.depth;
                        }
                        if (layerObj.depth) {
                            totalDepth = layerObj.depth;
                        }
                        //Offset by camera depth
                        totalDepth -= cameraDepth;
                        if (totalDepth < -focalLength) {
                            matToApply.a = 0;
                            matToApply.d = 0;
                        } else {
                            if (layerObj.layerDepth) {
                                var sizeLockedMat = getProjectionMatrix(parent, layerObj.layerDepth);
                                if (sizeLockedMat) {
                                    sizeLockedMat.invert();
                                    matToApply.prependMatrix(sizeLockedMat);
                                }
                            }
                            matToApply.prependMatrix(cameraMat);
                            var projMat = getProjectionMatrix(parent, totalDepth);
                            if (projMat) {
                                matToApply.prependMatrix(projMat);
                            }
                        }
                        layerObj.transformMatrix = matToApply;
                    }
                }
            }

            //Code to support hidpi screens and responsive scaling.
            function makeResponsive(isResp, respDim, isScale, scaleType) {
                var lastW, lastH, lastS = 1;
                window.addEventListener('resize', resizeCanvas);
                resizeCanvas();

                function resizeCanvas() {

                    var w = lib.properties.width, h = lib.properties.height;
                    var iw;
                    if (window.innerWidth < 500) {
                        iw = window.innerWidth / 2, ih = window.innerHeight;

                    } else {
                        iw = window.innerWidth / 6, ih = window.innerHeight;
                    }



                    var pRatio = window.devicePixelRatio || 1, xRatio = iw / w, yRatio = ih / h, sRatio = 1;
                    if (isResp) {
                        if ((respDim == 'width' && lastW == iw) || (respDim == 'height' && lastH == ih)) {
                            sRatio = lastS;

                        } else if (!isScale) {
                            if (iw < w || ih < h)
                                sRatio = Math.min(xRatio, yRatio);
                        } else if (scaleType == 1) {
                            sRatio = Math.min(xRatio, yRatio);
                        } else if (scaleType == 2) {
                            sRatio = Math.max(xRatio, yRatio);
                        }
                    }
                    canvas.width = w * pRatio * sRatio;
                    canvas.height = h * pRatio * sRatio;
                    canvas.style.width = dom_overlay_container.style.width = anim_container.style.width = w * sRatio + 'px';
                    canvas.style.height = anim_container.style.height = dom_overlay_container.style.height =
                        h * sRatio + 'px';
                    stage.scaleX = pRatio * sRatio;
                    stage.scaleY = pRatio * sRatio;
                    lastW = iw;
                    lastH = ih;
                    lastS = sRatio;
                    stage.tickOnUpdate = false;
                    stage.update();
                    stage.tickOnUpdate = true;
                }
            }

            makeResponsive(true, 'both', false, 10);
            AdobeAn.compositionLoaded(lib.properties.id);
            fnStartAnimation();
        } 
    </script>    
<script>
    (function ($) {
        "use strict"; // Start of use strict

        // Smooth scrolling using jQuery easing
        $('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function () {
            if (location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') && location.hostname == this.hostname) {
                var target = $(this.hash);

                target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
                if (target.length) {
                    $('html, body').animate({
                        scrollTop: (target.offset().top - 54)
                    }, 1000, "easeInOutExpo");
                    return false;
                }
            }
        });

        // Closes responsive menu when a scroll trigger link is clicked
        $('.js-scroll-trigger').click(function () {
            $('.navbar-collapse').collapse('hide');
        });

        // Activate scrollspy to add active class to navbar items on scroll
        $('body').scrollspy({
            target: '#mainNav',
            offset: 56
        });


        // Collapse Navbar
        var navbarCollapse = function () {
            if ($("#mainNav").offset().top > 100) {
                $("#mainNav").addClass("navbar-shrink");
            } else {
                $("#mainNav").removeClass("navbar-shrink");
            }
        };
        // Collapse now if page is not at top
        navbarCollapse();
        // Collapse the navbar when page is scrolled
        $(window).scroll(navbarCollapse);

    })(jQuery); // End of use strict
</script>

    <script type="text/javascript">

        (function ($) {
            $("input[type = 'radio']").click(function () {
                $(this).parents("form").submit(); // post form
            });

        })(jQuery);
        (function ($) {
            //name = "culture"
            //$("")


        })(jQuery);
    </script>
    <script type="text/javascript">
        $(document).ready(function () {

            //$(".navbar-nav").html(

            //    $(".navbar-nav").children("li").sort(function (a, b) {

            //        return $(a).text().toUpperCase().localeCompare(

            //            $(b).text().toUpperCase());

            //    }) // End Sort

            //); // End HTML
            //var deferred = sortMeBy("nav-item", "ul.navbar-nav", "li", "asc");
            $('label').click(function () {
                var xx = $(this)[0].childNodes;
                console.log();
                $.post("\Home//SetCulture", { culture: xx[1].defaultValue })
            });

        });
    </script>
    <script type="text/javascript">
        $(document).ready(function () {

            if ($(window).width() < 376) {
                $('.location-geo').html(function (i, h) {
                    return h.replace(/&nbsp;/g, '');
                });
            }
            if ($(window).width() < 769) {

                var video =
                    "<video playsinline='playsinline' autoplay='autoplay' muted='muted' loop='loop'>\r\n <source src='/Videos/1920x520.mp4' type='video/mp4'>\r\n</video>";
                $('#video').html(video);
                $('#3DVideo_1').html(
                    "<video id='TreVideo' preload='auto' autoplay='true' loop='loop' muted='muted' volume='0'><source src='/Videos/3D_1920x1000.mp4' type='video/mp4'></video>");
                $('.DVideo')
                    .html(
                        "<video id='TreVideo' preload='auto' autoplay='true' loop='loop' muted='muted' volume='0'><source src='/Videos/3D_1920x1000.mp4' type='video/mp4'></video>");
            } else {
                var video =
                    "<video playsinline='playsinline' autoplay='autoplay' muted='muted' loop='loop'>\r\n <source src='/Videos/1920x520.mp4' type='video/mp4'>\r\n</video>";
                $('#video').html(video);
                $('#3DVideo_1').html(
                    "<video id='TreVideo' preload='auto' autoplay='true' loop='loop' muted='muted' volume='0'><source src='/Videos/3D_1920x1000.mp4' type='video/mp4'></video>");
                $('.DVideo')
                    .html(
                        "<video id='TreVideo' preload='auto' autoplay='true' loop='loop' muted='muted' volume='0'><source src='/Videos/3D_1920x1000.mp4' type='video/mp4'></video>");
            }
            getAccordion("#myTab", 769);
        });
    </script>
    @RenderSection("scripts", required: false)
</body>
</html>
    